if("undefined"===typeof React)var React=require("react");
(function(){function g(a){return"[object Array]"===Object.prototype.toString.call(a)}function h(a){return"undefined"===typeof a}function u(a){return"object"!==typeof a||"[object Array]"===Object.prototype.toString.call(a)?!1:!0}function c(a,b){if("string"===typeof a)if(~"warn debug error log info exception assert".split(" ").indexOf(a,0))console[a]("Flocks2 ["+a+"] "+b.toString());else console.log("Flocks2 [Unknown level] "+b.toString());else h(d.flocks_config)?console.log("Flocks2 pre-config ["+
a.toString()+"] "+b.toString()):d.flocks_config.log_level>=a&&console.log("Flocks2 ["+a.toString()+"] "+b.toString())}function v(a,b){if("string"!==typeof a)throw b||"Argument must be a string";}function w(a,b){if(!u(a))throw b||"Argument must be a non-array object";}function p(a,b){c(3," - Flocks2 multi-set");if("string"===typeof a)v(a,"Flocks2 set/2 must take a string for its key"),d[a]=b,c(1,'   - Flocks2 setByKey "'+a+'"'),m();else throw"Flocks2 set/1,2 key must be a string or an array";}function E(a,
b,c){var d;if(!g(a))throw"Path must be an array!";if(0===a.length)return b;if(1===a.length)return d=b[a[0]],b[a[0]]=c,d;if(-1!==["string","number"].indexOf(typeof a[0]))return d=a.splice(1,Number.MAX_VALUE),path_set(d,b[a[0]],c)}function q(a,b){if(!g(a))throw"path must be an array!";if(0===a.length)return b;if(1===a.length)return b[a[0]];if(-1!==["string","number"].indexOf(typeof a[0])){var c=a.splice(1,Number.MAX_VALUE);return q(c,b[a[0]])}}function x(a){console.log("update - whargarbl stub");w(a,
"Flocks2 update/1 must take a plain object")}function F(){++k}function y(){if(0>=k)throw"unlock()ed with no lock!";--k;m()}function r(a){if(null===a||"object"!=typeof a)return a;var b=a.constructor(),c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function m(){c(3," - Flocks2 attempting update");if(!z)return c(1," x Flocks2 skipped update: root is not initialized"),null;if(k)return c(1," x Flocks2 skipped update: lock count updateBlocks is non-zero"),null;if(!A(d))return c(0,"   ! Flocks2 rolling back update: handler rejected propset"),
d=B,null;B=d;c(3,"   - Flocks2 update passed");React.render(React.createFactory(t)({flocks2context:d}),document.body);c(3,"   - Flocks2 update complete; finalizing");C();return!0}function D(a){if(h(a))return[n];if(g(a)){if(~a.indexOf(n,0))return a;a=r(a);a.push(n);return a}throw"Original mixin list must be an array or undefined!";}var z=!1,k=0,t,A=function(a){return!0},C=function(){return!0},B={},d={},l={flocks2context:React.PropTypes.object},n={contextTypes:l,childContextTypes:l,componentWillMount:function(){c(1,
" - Flocks2 component will mount: "+this.constructor.displayName);c(3,h(this.props.flocks2context)?"   - No F2 Context Prop":"   - F2 Context Prop found");c(3,h(this.context.flocks2context)?"   - No F2 Context":"   - F2 Context found");this.props.flocks2context&&(this.context.flocks2context=this.props.flocks2context);this.fupdate=function(a){return x(a)};this.fgetpath=function(a,b){return q(a,b)};this.fset=function(a,b){return p(a,b)};this.fsetpath=function(a,b){return p(K,b)};this.flock=function(){++k};
this.funlock=function(){return y()};this.fctx=this.context.flocks2context},getChildContext:function(){return this.context}},l={version:"0.15.9",plumbing:n,createClass:function(a){a.mixins=D(a.mixins);return React.createClass(a)},mount:function(a,b){var f=a||{},g=b||{},e=function(){window.alert("whargarbl stub");m()},e={get:e,override:e,clear:e,get_path:q,set:p,set_path:E,update:x,lock:F,unlock:y};f.log_level=f.log_level||-1;t=f.control;g.flocks_config=f;d=g;c(1,"Flocks2 root creation begins");if(!t)throw"Flocks2 fatal error: must provide a control in create/2 FlocksConfig";
f.handler&&(A=f.handler,c(3," - Flocks2 handler assigned"));f.finalizer&&(C=f.finalizer,c(3," - Flocks2 finalizer assigned"));f.preventAutoContext?c(2," - Flocks2 skipping auto-context"):(c(2," - Flocks2 engaging auto-context"),this.fctx=r(d));c(3,"Flocks2 creation finished; initializing");z=!0;m();c(3,"Flocks2 expose updater");this.fupd=e;this.fset=e.set;this.fgetpath=e.get_path;this.flock=e.lock;this.funlock=e.unlock;this.fupdate=e.update;c(3,"Flocks2 initialization finished");return e},clone:r,
isArray:g,isUndefined:h,isNonArrayObject:u,enforceString:v,enforceArray:function(a,b){if(!g(a))throw b||"Argument must be an array";},enforceNonArrayObject:w,atLeastFlocks:D};"undefined"!==typeof module?module.exports=l:window.flocks=l})();
